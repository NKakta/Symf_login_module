{% extends 'layouts/admin-base.html.twig' %}

{% block title %} Accounts {% endblock %}

{% block body %}
    <div class="card">
        <a href="{{ path('create_account') }}">
            <button style="width: 25%;" type="button" class="btn btn-block btn-default">
                Create new Account
            </button>
        </a>
        <div class="card-header">
            <h3 class="card-title">Accounts</h3>
            <div class="card-tools">
                <div class="input-group input-group-sm">
                    {{ form_start(form, {'method': 'GET'}) }}
                    {{ form_label(form.username) }}
                    {{ form_widget(form.username) }}
                    <button type="submit" class="btn btn-default" style="float:right;"><i class="fas fa-search"></i></button>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th style="width: 10px">#</th>
                    <th>Account</th>
                    <th>Status</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for account in accounts %}
                <tr>
                    <td>{{ loop.index }}.</td>
                    <td>
                        <a href="{{ path('show_account', { 'id': account.id }) }}">
                            {{ account.username }}
                        </a>
                    </td>
                    <td>
                        {% if account.sold %}
                            <span class="badge bg-success">SOLD</span>
                        {% else %}
                            <span class="badge bg-warning">IN STOCK</span>
                        {% endif %}
                    </td>
                    <td>
                        <a class="btn btn-info btn-sm" href="{{ path('edit_account', { 'id': account.id }) }}">
                            <i class="fas fa-pencil-alt">
                            </i>
                            Edit
                        </a>
                        <a class="btn btn-danger btn-sm" href="{{ path('delete_account', { 'id': account.id }) }}">
                            <i class="fas fa-trash">
                            </i>
                            Delete
                        </a>
                    </td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <!-- /.card-body -->
        <div class="card-footer clearfix">
            {{ knp_pagination_render(accounts) }}
        </div>
    </div>
{% endblock %}
